<!-- don't change the order, or the sidebar will get the map after being checked -->
<gd-sidebar-section #sidebar [service]="service" [sidebarConfig]="sidebarConfig" [(mask)]="mask" [map]="map" class="sidebar-section" [class.-collapsed]="sidebar.isCollapsed"
  (hasMaskChange)="hasMask=$event">
</gd-sidebar-section>
<button class="reset" (click)="resetArea()" *ngIf="sidebarConfig.groupActions?.analyze && hasMask">Reset Area</button>
<div #mapContainer class="map-container" [class.-collapsed]="sidebar.isCollapsed" leaflet [leafletOptions]="options" [leafletLayers]="sidebar.layers"
  (leafletMapReady)="map=$event">
  <!-- don't need to mount if no analyze function is provided in the model -->
  <div [isCollapsed]="sidebar.isCollapsed" *ngIf="sidebarConfig.groupActions?.analyze" gdMapWrapper [(mask)]="mask" [view]="sidebar.view"
    [(hasMask)]="hasMask"></div>
</div>